#!/usr/bin/env ruby

# require 'chamois/cli'
# Sudoku::CLI.new(ARGV)

require 'thor'
require 'chamois/application'

class ChamoisCLI < Thor

#  desc "Say Hello"
#  method_option :name, :aliases => "-n", :desc => "Specify a name"
#  def hello
#    puts "Hello #{options[:name]}"
#  end

public

  desc "deploy STAGE", "Deploy"
  def deploy(stage)
    app = Chamois::Application.new(stage)
    app.connect
    app.deploy
    app.disconnect
  end

  desc "release STAGE", "Release"
  def release(stage)
    app = Chamois::Application.new(stage)
    app.connect
    app.release
    app.disconnect
  end

  desc "rollback STAGE", "Rollback"
  def rollback(stage)
    app = Chamois::Application.new(stage)
    app.connect
    app.rollback
    app.disconnect
  end
  
end

ChamoisCLI.start(ARGV)
